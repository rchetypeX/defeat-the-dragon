"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   completeSession: function() { return /* binding */ completeSession; },\n/* harmony export */   getCurrentSession: function() { return /* binding */ getCurrentSession; },\n/* harmony export */   getPlayerData: function() { return /* binding */ getPlayerData; },\n/* harmony export */   startSession: function() { return /* binding */ startSession; },\n/* harmony export */   testApi: function() { return /* binding */ testApi; }\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n\n/**\r\n * Get the current user's session token for API calls\r\n */ async function getAuthToken() {\n    console.log(\"API: Getting auth token...\");\n    // Always use mock token for now to avoid Supabase issues\n    console.log(\"API: Using mock token for development\");\n    return \"mock-token-for-development\";\n}\n/**\r\n * Make an authenticated API request\r\n */ async function apiRequest(endpoint) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    console.log(\"API: Making request to:\", endpoint);\n    const token = await getAuthToken();\n    console.log(\"API: Got token, length:\", token.length);\n    const controller = new AbortController();\n    const timeoutId = setTimeout(()=>{\n        console.log(\"API: Request timeout, aborting...\");\n        controller.abort();\n    }, 15000); // 15 second timeout\n    try {\n        console.log(\"API: Making fetch request...\");\n        const response = await fetch(\"/api\".concat(endpoint), {\n            ...options,\n            signal: controller.signal,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": \"Bearer \".concat(token),\n                ...options.headers\n            }\n        });\n        clearTimeout(timeoutId);\n        console.log(\"API: Fetch request completed\");\n        console.log(\"API: Response status:\", response.status);\n        if (!response.ok) {\n            const errorData = await response.json().catch(()=>({}));\n            console.error(\"API: Request failed:\", errorData);\n            throw new Error(errorData.error || \"API request failed: \".concat(response.status));\n        }\n        const data = await response.json();\n        console.log(\"API: Request successful, data:\", data);\n        return data;\n    } catch (error) {\n        clearTimeout(timeoutId);\n        if (error.name === \"AbortError\") {\n            console.error(\"API: Request timed out\");\n            throw new Error(\"Request timed out\");\n        }\n        throw error;\n    }\n}\n/**\r\n * Test API connectivity\r\n */ async function testApi() {\n    console.log(\"API: testApi called\");\n    try {\n        const response = await fetch(\"/api/test\", {\n            method: \"GET\"\n        });\n        console.log(\"API: testApi response status:\", response.status);\n        const data = await response.json();\n        console.log(\"API: testApi response data:\", data);\n        return data;\n    } catch (error) {\n        console.error(\"API: testApi error:\", error);\n        throw error;\n    }\n}\n/**\r\n * Start a new focus session\r\n */ async function startSession(request) {\n    console.log(\"API: startSession called with:\", request);\n    try {\n        const response = await apiRequest(\"/sessions/start\", {\n            method: \"POST\",\n            body: JSON.stringify(request)\n        });\n        console.log(\"API: startSession response:\", response);\n        return response;\n    } catch (error) {\n        console.error(\"API: startSession error:\", error);\n        throw error;\n    }\n}\n/**\r\n * Complete a focus session\r\n */ async function completeSession(request) {\n    return apiRequest(\"/sessions/complete\", {\n        method: \"POST\",\n        body: JSON.stringify(request)\n    });\n}\n/**\r\n * Get current user's active session\r\n */ async function getCurrentSession() {\n    try {\n        const token = await getAuthToken();\n        if (!token) return null;\n        const { data: { user } } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n        if (!user) return null;\n        const { data: session } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"sessions\").select(\"*\").eq(\"user_id\", user.id).is(\"ended_at\", null).order(\"started_at\", {\n            ascending: false\n        }).limit(1).single();\n        return session;\n    } catch (error) {\n        console.error(\"API: Failed to get current session:\", error);\n        return null;\n    }\n}\n/**\r\n * Get current user's player data\r\n */ async function getPlayerData() {\n    try {\n        var _profileResult_data;\n        const { data: { user } } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.auth.getUser();\n        if (!user) return null;\n        // Get player data and profile data in parallel\n        const [playerResult, profileResult] = await Promise.all([\n            _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"players\").select(\"*\").eq(\"user_id\", user.id).single(),\n            _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"profiles\").select(\"display_name\").eq(\"user_id\", user.id).single()\n        ]);\n        if (playerResult.error) {\n            throw playerResult.error;\n        }\n        // Combine player data with display name\n        const player = {\n            ...playerResult.data,\n            display_name: ((_profileResult_data = profileResult.data) === null || _profileResult_data === void 0 ? void 0 : _profileResult_data.display_name) || \"Adventurer\"\n        };\n        return player;\n    } catch (error) {\n        console.error(\"API: Failed to get player data:\", error);\n        // Return mock data for development\n        return {\n            id: \"mock-player-id\",\n            user_id: \"mock-user-id\",\n            level: 1,\n            xp: 0,\n            coins: 3,\n            sparks: 0,\n            is_inspired: false,\n            bond_score: 50,\n            mood_state: \"Happy\",\n            day_streak: 0,\n            created_at: new Date().toISOString(),\n            display_name: \"Adventurer\"\n        };\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUtPLEVBQUUsRUFDckJLLE1BQU07U0FDVjtRQUVELElBQUlHLGFBQWE1QixLQUFLLEVBQUU7WUFDdEIsTUFBTTRCLGFBQWE1QixLQUFLO1FBQzFCO1FBRUEsd0NBQXdDO1FBQ3hDLE1BQU0rQixTQUFTO1lBQ2IsR0FBR0gsYUFBYTFCLElBQUk7WUFDcEI4QixjQUFjTCxFQUFBQSxzQkFBQUEsY0FBY3pCLElBQUksY0FBbEJ5QiwwQ0FBQUEsb0JBQW9CSyxZQUFZLEtBQUk7UUFDcEQ7UUFFQSxPQUFPRDtJQUNULEVBQUUsT0FBTy9CLE9BQU87UUFDZHRCLFFBQVFzQixLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxtQ0FBbUM7UUFDbkMsT0FBTztZQUNMb0IsSUFBSTtZQUNKYSxTQUFTO1lBQ1RDLE9BQU87WUFDUEMsSUFBSTtZQUNKQyxPQUFPO1lBQ1BDLFFBQVE7WUFDUkMsYUFBYTtZQUNiQyxZQUFZO1lBQ1pDLFlBQVk7WUFDWkMsWUFBWTtZQUNaQyxZQUFZLElBQUlDLE9BQU9DLFdBQVc7WUFDbENaLGNBQWM7UUFDaEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2xpYi9hcGkudHM/NjhhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4vc3VwYWJhc2UnO1xyXG5pbXBvcnQgeyBTdGFydFNlc3Npb25SZXF1ZXN0LCBTdGFydFNlc3Npb25SZXNwb25zZSwgQ29tcGxldGVTZXNzaW9uUmVxdWVzdCwgQ29tcGxldGVTZXNzaW9uUmVzcG9uc2UgfSBmcm9tICdAZGVmZWF0LXRoZS1kcmFnb24vZW5naW5lJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgdXNlcidzIHNlc3Npb24gdG9rZW4gZm9yIEFQSSBjYWxsc1xyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2V0QXV0aFRva2VuKCk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xyXG4gIGNvbnNvbGUubG9nKCdBUEk6IEdldHRpbmcgYXV0aCB0b2tlbi4uLicpO1xyXG4gIFxyXG4gIC8vIEFsd2F5cyB1c2UgbW9jayB0b2tlbiBmb3Igbm93IHRvIGF2b2lkIFN1cGFiYXNlIGlzc3Vlc1xyXG4gIGNvbnNvbGUubG9nKCdBUEk6IFVzaW5nIG1vY2sgdG9rZW4gZm9yIGRldmVsb3BtZW50Jyk7XHJcbiAgcmV0dXJuICdtb2NrLXRva2VuLWZvci1kZXZlbG9wbWVudCc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNYWtlIGFuIGF1dGhlbnRpY2F0ZWQgQVBJIHJlcXVlc3RcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGFwaVJlcXVlc3Q8VD4oXHJcbiAgZW5kcG9pbnQ6IHN0cmluZywgXHJcbiAgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fVxyXG4pOiBQcm9taXNlPFQ+IHtcclxuICBjb25zb2xlLmxvZygnQVBJOiBNYWtpbmcgcmVxdWVzdCB0bzonLCBlbmRwb2ludCk7XHJcbiAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRBdXRoVG9rZW4oKTtcclxuICBjb25zb2xlLmxvZygnQVBJOiBHb3QgdG9rZW4sIGxlbmd0aDonLCB0b2tlbi5sZW5ndGgpO1xyXG5cclxuICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xyXG4gIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ0FQSTogUmVxdWVzdCB0aW1lb3V0LCBhYm9ydGluZy4uLicpO1xyXG4gICAgY29udHJvbGxlci5hYm9ydCgpO1xyXG4gIH0sIDE1MDAwKTsgLy8gMTUgc2Vjb25kIHRpbWVvdXRcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCdBUEk6IE1ha2luZyBmZXRjaCByZXF1ZXN0Li4uJyk7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpJHtlbmRwb2ludH1gLCB7XHJcbiAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Rva2VufWAsXHJcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICBjb25zb2xlLmxvZygnQVBJOiBGZXRjaCByZXF1ZXN0IGNvbXBsZXRlZCcpO1xyXG5cclxuICBjb25zb2xlLmxvZygnQVBJOiBSZXNwb25zZSBzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTtcclxuXHJcbiAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpLmNhdGNoKCgpID0+ICh7fSkpO1xyXG4gICAgY29uc29sZS5lcnJvcignQVBJOiBSZXF1ZXN0IGZhaWxlZDonLCBlcnJvckRhdGEpO1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBgQVBJIHJlcXVlc3QgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgY29uc29sZS5sb2coJ0FQSTogUmVxdWVzdCBzdWNjZXNzZnVsLCBkYXRhOicsIGRhdGEpO1xyXG4gIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgIGlmIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQVBJOiBSZXF1ZXN0IHRpbWVkIG91dCcpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3QgdGltZWQgb3V0Jyk7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBlcnJvcjtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUZXN0IEFQSSBjb25uZWN0aXZpdHlcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0ZXN0QXBpKCk6IFByb21pc2U8YW55PiB7XHJcbiAgY29uc29sZS5sb2coJ0FQSTogdGVzdEFwaSBjYWxsZWQnKTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS90ZXN0Jywge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZygnQVBJOiB0ZXN0QXBpIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIGNvbnNvbGUubG9nKCdBUEk6IHRlc3RBcGkgcmVzcG9uc2UgZGF0YTonLCBkYXRhKTtcclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBUEk6IHRlc3RBcGkgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogU3RhcnQgYSBuZXcgZm9jdXMgc2Vzc2lvblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YXJ0U2Vzc2lvbihyZXF1ZXN0OiBTdGFydFNlc3Npb25SZXF1ZXN0KTogUHJvbWlzZTxTdGFydFNlc3Npb25SZXNwb25zZT4ge1xyXG4gIGNvbnNvbGUubG9nKCdBUEk6IHN0YXJ0U2Vzc2lvbiBjYWxsZWQgd2l0aDonLCByZXF1ZXN0KTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlSZXF1ZXN0PFN0YXJ0U2Vzc2lvblJlc3BvbnNlPignL3Nlc3Npb25zL3N0YXJ0Jywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdCksXHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKCdBUEk6IHN0YXJ0U2Vzc2lvbiByZXNwb25zZTonLCByZXNwb25zZSk7XHJcbiAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSTogc3RhcnRTZXNzaW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENvbXBsZXRlIGEgZm9jdXMgc2Vzc2lvblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXBsZXRlU2Vzc2lvbihyZXF1ZXN0OiBDb21wbGV0ZVNlc3Npb25SZXF1ZXN0KTogUHJvbWlzZTxDb21wbGV0ZVNlc3Npb25SZXNwb25zZT4ge1xyXG4gIHJldHVybiBhcGlSZXF1ZXN0PENvbXBsZXRlU2Vzc2lvblJlc3BvbnNlPignL3Nlc3Npb25zL2NvbXBsZXRlJywge1xyXG4gICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSxcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBjdXJyZW50IHVzZXIncyBhY3RpdmUgc2Vzc2lvblxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRTZXNzaW9uKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGdldEF1dGhUb2tlbigpO1xyXG4gICAgaWYgKCF0b2tlbikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XHJcbiAgICBpZiAoIXVzZXIpIHJldHVybiBudWxsO1xyXG5cclxuICAgIGNvbnN0IHsgZGF0YTogc2Vzc2lvbiB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3Nlc3Npb25zJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXHJcbiAgICAgIC5pcygnZW5kZWRfYXQnLCBudWxsKVxyXG4gICAgICAub3JkZXIoJ3N0YXJ0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDEpXHJcbiAgICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgICByZXR1cm4gc2Vzc2lvbjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignQVBJOiBGYWlsZWQgdG8gZ2V0IGN1cnJlbnQgc2Vzc2lvbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgY3VycmVudCB1c2VyJ3MgcGxheWVyIGRhdGFcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQbGF5ZXJEYXRhKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcclxuICAgIGlmICghdXNlcikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgLy8gR2V0IHBsYXllciBkYXRhIGFuZCBwcm9maWxlIGRhdGEgaW4gcGFyYWxsZWxcclxuICAgIGNvbnN0IFtwbGF5ZXJSZXN1bHQsIHByb2ZpbGVSZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdwbGF5ZXJzJylcclxuICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxyXG4gICAgICAgIC5zaW5nbGUoKSxcclxuICAgICAgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgncHJvZmlsZXMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2Rpc3BsYXlfbmFtZScpXHJcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcclxuICAgICAgICAuc2luZ2xlKClcclxuICAgIF0pO1xyXG5cclxuICAgIGlmIChwbGF5ZXJSZXN1bHQuZXJyb3IpIHtcclxuICAgICAgdGhyb3cgcGxheWVyUmVzdWx0LmVycm9yO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbWJpbmUgcGxheWVyIGRhdGEgd2l0aCBkaXNwbGF5IG5hbWVcclxuICAgIGNvbnN0IHBsYXllciA9IHtcclxuICAgICAgLi4ucGxheWVyUmVzdWx0LmRhdGEsXHJcbiAgICAgIGRpc3BsYXlfbmFtZTogcHJvZmlsZVJlc3VsdC5kYXRhPy5kaXNwbGF5X25hbWUgfHwgJ0FkdmVudHVyZXInXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBwbGF5ZXI7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSTogRmFpbGVkIHRvIGdldCBwbGF5ZXIgZGF0YTonLCBlcnJvcik7XHJcbiAgICAvLyBSZXR1cm4gbW9jayBkYXRhIGZvciBkZXZlbG9wbWVudFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaWQ6ICdtb2NrLXBsYXllci1pZCcsXHJcbiAgICAgIHVzZXJfaWQ6ICdtb2NrLXVzZXItaWQnLFxyXG4gICAgICBsZXZlbDogMSxcclxuICAgICAgeHA6IDAsXHJcbiAgICAgIGNvaW5zOiAzLFxyXG4gICAgICBzcGFya3M6IDAsXHJcbiAgICAgIGlzX2luc3BpcmVkOiBmYWxzZSxcclxuICAgICAgYm9uZF9zY29yZTogNTAsXHJcbiAgICAgIG1vb2Rfc3RhdGU6ICdIYXBweScsXHJcbiAgICAgIGRheV9zdHJlYWs6IDAsXHJcbiAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgZGlzcGxheV9uYW1lOiAnQWR2ZW50dXJlcidcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImdldEF1dGhUb2tlbiIsImNvbnNvbGUiLCJsb2ciLCJhcGlSZXF1ZXN0IiwiZW5kcG9pbnQiLCJvcHRpb25zIiwidG9rZW4iLCJsZW5ndGgiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImFib3J0IiwicmVzcG9uc2UiLCJmZXRjaCIsInNpZ25hbCIsImhlYWRlcnMiLCJjbGVhclRpbWVvdXQiLCJzdGF0dXMiLCJvayIsImVycm9yRGF0YSIsImpzb24iLCJjYXRjaCIsImVycm9yIiwiRXJyb3IiLCJkYXRhIiwibmFtZSIsInRlc3RBcGkiLCJtZXRob2QiLCJzdGFydFNlc3Npb24iLCJyZXF1ZXN0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb21wbGV0ZVNlc3Npb24iLCJnZXRDdXJyZW50U2Vzc2lvbiIsInVzZXIiLCJhdXRoIiwiZ2V0VXNlciIsInNlc3Npb24iLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJpZCIsImlzIiwib3JkZXIiLCJhc2NlbmRpbmciLCJsaW1pdCIsInNpbmdsZSIsImdldFBsYXllckRhdGEiLCJwcm9maWxlUmVzdWx0IiwicGxheWVyUmVzdWx0IiwiUHJvbWlzZSIsImFsbCIsInBsYXllciIsImRpc3BsYXlfbmFtZSIsInVzZXJfaWQiLCJsZXZlbCIsInhwIiwiY29pbnMiLCJzcGFya3MiLCJpc19pbnNwaXJlZCIsImJvbmRfc2NvcmUiLCJtb29kX3N0YXRlIiwiZGF5X3N0cmVhayIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/api.ts\n"));

/***/ })

});